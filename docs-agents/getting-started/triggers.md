---
sidebar_position: 103
title: "Triggers"
pagination_prev: null
toc_min_heading_level: 2
toc_max_heading_level: 4
---

# Overview

Every AI Agent needs a trigger to start its job. DronaHQ provides a dedicated interface to set up different trigger types. Currently, two primary trigger mechanisms are supported: Chat and Webhook.

To access these settings, navigate to your Agent configuration and select the Triggers tab.



## Adding a Trigger

1. Navigate to the Triggers section of your Agent configuration.  
2. Click the Add Trigger button.  
3. Select the desired trigger type: Chat, Webhook, Schedular or Whatsapp trigger.

:::info Upcoming Triggers  
We are constantly expanding our integration capabilities. Support for other triggers is coming soon.  
:::


## Trigger

### 1. Chat Trigger

The Chat trigger is the primary mechanism that initiates the Agent's workflow whenever a user sends a message. While you can test this immediately in the DronaHQ Chat Playground, this trigger remains active once the Agent is deployed to production environments.

| Property | Type | Description |
|--------|------|-------------|
| Chat | Enable/Disable | Enabling this allows the Agent to receive and respond to user input from any deployed interface, including embedded websites, DronaHQ internal apps, or the Chat Playground. |

:::info Deployment  
Once enabled, your Agent is ready to interact with users across all supported channels, ensuring a consistent conversational experience whether the bot is embedded in a public site or used within a secure enterprise app.  
:::



### 2. Webhook Trigger

The Webhook trigger allows you to initiate the Agent's workflow via an external HTTP request (API call). This is useful for integrating the Agent with external systems, databases, or processes.

**Note** – The Webhook trigger URL supports both the GET and POST methods.

To configure this, select the Webhook option and click Configure Webhook.



#### Webhook Configuration Properties

| Property | Type | Description |
|--------|------|-------------|
| Trigger Name | Text | A unique name for this specific Webhook configuration. This field is mandatory. |
| Webhook URL | Read-only URL | The unique HTTP endpoint generated by DronaHQ for your Agent. You must copy this URL and configure it in your external application (e.g., Salesforce, ERP system, or a custom backend service) to send data to the Agent. |
| Methods Supported | Note | The Webhook trigger URL supports both the GET and POST methods. |

 

#### Authorization and Security

To secure your Webhook endpoint, you can use an API Key for authorization.

| Property | Type | Description |
|--------|------|-------------|
| API Key (Authorization Token) | Text | A security token used to authenticate the incoming requests. The external application must include this token in the request headers (e.g., in the Authorization header). |
| Generate API Key | Button | Click this to automatically generate a new, unique API Key/Authorization Token. |


#### Webhook Input and Payload Setup

The most critical part of setting up a Webhook is defining and mapping the incoming data structure, or payload. DronaHQ provides a feature to automatically capture and structure this payload.

#### Auto Populate Payload Data

1. Click the Start Listening button.  
2. The platform will enter a waiting state, ready to receive a live HTTP request at the generated Webhook URL.  
3. From your external application, send a sample test request to the Webhook URL.  
4. The Agent will capture the first request received.  

:::info Agent Behavior Note  
If you are editing an existing agent, you might also receive your actual webhook call, which will not execute the flow during this configuration phase.  
:::

The captured data will be displayed in the Webhook Input section for confirmation.


#### Webhook Input View

The captured payload data can be viewed in two formats:

| View | Description | Purpose |
|----|-------------|---------|
| Raw Input | Displays the payload exactly as received (e.g., JSON or XML format). | Used for configuring the data structure by displaying the exact format received, with the option to manually update or edit the payload to define your schema without waiting for a live call. |
| Descriptive Input | Displays the payload as a structured, interactive list of key-value pairs. | Used for easily selecting and mapping data fields to be used as variables within the Agent's subsequent workflow actions. |



#### Webhook Input and Payload Setup

This section allows you to define the structure of the data the Agent receives, ensuring all incoming information is correctly mapped to workflow variables.

| Input View | Description |
|-----------|-------------|
| Raw Input | Used for configuring the data structure. It displays the exact format (JSON/XML) sent by the external system. You can also manually update or edit the payload here to define your schema without waiting for a live call. |
| Descriptive Input | Provides a user-friendly, structured view of the variables. Use this to verify that the keys and values are correctly identified before using them in your workflow logic. |



#### Message Write

Message defines the specific text the Agent receives to initiate its task; you may leave this field blank to automatically pass the full input payload (body, query, and headers) as the execution input.

**Conversation Continuity:** To maintain context across multiple calls, include a `thread_id` in your request parameters; passing this ID ensures the Agent recognizes the session and preserves the conversation history during execution.

Use the Write option to compose the message and Preview to see how it will look.


####  Webhook Input & Conversation Continuity

When utilizing the Webhook trigger, you can define exactly what information is passed into the Agent's workflow for execution.

- **Message (Input Execution):** Use the Write option to define the specific string or data the Agent receives as the primary input to start its task. Alternatively, you can leave this field blank to automatically pass the full input payload (the entire body received via webhook) directly to the Agent.  
- **Preview:** Use this to verify the format of the input the Agent will process before execution.



####  Maintaining Conversation State (Thread ID)

For workflows that require multiple, successive webhook calls while maintaining context, you must manage conversation continuity:

- **Thread ID:** To maintain a continuous conversation history, include a `thread_id` in your request (via query parameters or the request body).  
- **Continuity:** If a `thread_id` is passed along in subsequent calls, the Agent will recognize the existing session and execute the new request within the context of that specific conversation thread.



#### Webhook Agent Response

You must define what the Agent returns to the calling application after the workflow executes.

| Response Type | Description |
|--------------|-------------|
| None | The Agent acknowledges the request but does not return a structured data payload in the HTTP response body. |
| Standard | Returns a standard HTTP response with a structured data payload. You must Define the structure of this response using JSON Schema. |
| Stream | Used for continuous, real-time data streaming back to the calling application. |


#### Defining a Standard Response (JSON Schema)

When using the Standard response, your definition must follow the JSON Schema (Draft 2020-12) specification. This ensures the external application consuming the response can reliably parse the data.

| Feature Category | Supported Capabilities |
|-----------------|------------------------|
| Basic Types | string, number, boolean, object, array |
| Structure | Nested objects, Required fields |
| Advanced Logic | Enums, AnyOf, OneOf, AllOf |
| Validation | Pattern (Regex), String length, Array rules (minItems, uniqueItems) |

If you are new to JSON Schema, utilize these resources directly from the Agent UI:

- [JSON Schema Spec](https://json-schema.org/draft/2020-12/schema) – Official technical specification.  
- [Beginner Tutorial](https://json-schema.org/learn/getting-started-step-by-step) – A step-by-step guide to creating your first schema.  
- [Understanding JSON Schema](https://json-schema.org/understanding-json-schema/) – Deep dive into how schemas work.  

:::note Start with a Basic Schema  
For most simple text-based Agents, define an object with a text property of type string. This provides a clean, predictable structure for your API integration.  
:::
