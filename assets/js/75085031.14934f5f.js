"use strict";(self.webpackChunkdronahq_docs=self.webpackChunkdronahq_docs||[]).push([[4158],{49013:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>b,contentTitle:()=>C,default:()=>O,frontMatter:()=>h,metadata:()=>f,toc:()=>g});var o=n(67294),i=n(3905),a=n(11716),s=n(31984);const l={"toc-list":"toc-list_IulI","toc-list-head":"toc-list-head_t0sJ","toc-list-content":"toc-list-content_hqkw"},r=({children:e})=>o.createElement("div",{className:l["toc-list"]},e),u=({children:e})=>o.createElement("div",{className:l["toc-list-section"]},e),d=({children:e})=>o.createElement("div",{className:l["toc-list-head"]},e),c=({children:e})=>o.createElement("ul",{className:l["toc-list-content"]},e.map(((e,t)=>o.createElement("li",{key:`toc-lc-${t}`},e))));function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function k(e,t){if(null==e)return{};var n,o,i=function(e,t){if(null==e)return{};var n,o,i={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}const h={sidebar_position:5},C="Table of Contents",f={unversionedId:"docusaurus-mdx-guide/table-of-contents",id:"docusaurus-mdx-guide/table-of-contents",title:"Table of Contents",description:"Two ways to list table of contents.",source:"@site/wiki/docusaurus-mdx-guide/table-of-contents.mdx",sourceDirName:"docusaurus-mdx-guide",slug:"/docusaurus-mdx-guide/table-of-contents",permalink:"/dronahq-docs/wiki/docusaurus-mdx-guide/table-of-contents",draft:!1,editUrl:"https://github.com/rahul-gharat/dronahq-docs/edit/main/docs/docusaurus-mdx-guide/table-of-contents.mdx",tags:[],version:"current",lastUpdatedBy:"Rahul Gharat",lastUpdatedAt:1688552792,formattedLastUpdatedAt:"Jul 5, 2023",sidebarPosition:5,frontMatter:{sidebar_position:5},sidebar:"wiki",previous:{title:"Links",permalink:"/dronahq-docs/wiki/docusaurus-mdx-guide/links"},next:{title:"Code Blocks",permalink:"/dronahq-docs/wiki/docusaurus-mdx-guide/code-blocks"}},b={},g=[{value:"Full table of contents",id:"full-table-of-contents",level:2},{value:"Partial (sub) table of contents",id:"partial-sub-table-of-contents",level:2},{value:"Dummy section 1",id:"dummy-section-1",level:3},{value:"Dummy section 1.1",id:"dummy-section-11",level:4},{value:"Dummy section 2",id:"dummy-section-2",level:3},{value:"Custom table of contents",id:"custom-table-of-contents",level:2},{value:"Simple list",id:"simple-list",level:3},{value:"Result UI",id:"result-ui",level:4},{value:"Group of lists",id:"group-of-lists",level:3},{value:"Result UI",id:"result-ui-1",level:4}],T={toc:g},y="wrapper";function O(e){var{components:t}=e,n=k(e,["components"]);return(0,i.kt)(y,p(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),o.forEach((function(t){m(e,t,n[t])}))}return e}({},T,n),{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"table-of-contents"},"Table of Contents"),(0,i.kt)("p",null,"Two ways to list table of contents."),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"List the contents within the same document."),(0,i.kt)("li",{parentName:"ol"},"List contents for different documents. Say, an index page.")),(0,i.kt)("br",null),(0,i.kt)("p",null,"Below is auto listed TOC for this document"),(0,i.kt)(a.Z,{toc:g,mdxType:"TOCInline"}),(0,i.kt)("h2",{id:"full-table-of-contents"},"Full table of contents"),(0,i.kt)("p",null,"This is the simplest way and is autogenerated on usage of ",(0,i.kt)("inlineCode",{parentName:"p"},"TOCInline")," component from docusaurus."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-jsx"},"import TOCInline from '@theme/TOCInline';\n\n<TOCInline toc={toc} />\n")),(0,i.kt)("p",null,"Please refer docusaurus ",(0,i.kt)("a",{parentName:"p",href:"https://docusaurus.io/docs/markdown-features/inline-toc"},"Inline TOC docs")," for more insights into syntax and usage of ",(0,i.kt)("inlineCode",{parentName:"p"},"TOCInline"),"."),(0,i.kt)("p",null,"Please use this ",(0,i.kt)("inlineCode",{parentName:"p"},"CustomTOCListHead")," component to add custom heading like stuff for TOC."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-jsx",metastring:"{1,3}","{1,3}":!0},'import { CustomTOCListHead } from "@site/src/components/CustomTOCList";\n\n<CustomTOCListHead>Table of Contents</CustomTOCListHead>\n<TOCInline toc={toc} />\n')),(0,i.kt)("p",null,"Will see more about this component in below sections."),(0,i.kt)("admonition",{type:"info"},(0,i.kt)("ul",{parentName:"admonition"},(0,i.kt)("li",{parentName:"ul"},"The ",(0,i.kt)("inlineCode",{parentName:"li"},":depth:")," param can be controlled by ",(0,i.kt)("a",{parentName:"li",href:"https://docusaurus.io/docs/api/plugins/@docusaurus/plugin-content-docs#toc_min_heading_level"},(0,i.kt)("inlineCode",{parentName:"a"},"toc_min_heading_level")," and ",(0,i.kt)("inlineCode",{parentName:"a"},"toc_max_heading_level")),"\nmeta for individual files and ",(0,i.kt)("a",{parentName:"li",href:"https://docusaurus.io/docs/api/themes/configuration#table-of-contents"},(0,i.kt)("inlineCode",{parentName:"a"},"minHeadingLevel")," and ",(0,i.kt)("inlineCode",{parentName:"a"},"maxHeadingLevel")),"\nfor global theme config in docusaurus as given in docs."),(0,i.kt)("li",{parentName:"ul"},"The ",(0,i.kt)("inlineCode",{parentName:"li"},":backlinks:")," seems to be set to ",(0,i.kt)("inlineCode",{parentName:"li"},"none")," for all and also there is no direct replacement in MDX via Docusaurus. So, can be ignored."),(0,i.kt)("li",{parentName:"ul"},"The ",(0,i.kt)("inlineCode",{parentName:"li"},":local")," can be ignored as well cause the ",(0,i.kt)("inlineCode",{parentName:"li"},"TOCInline")," component works only for local (same) document"))),(0,i.kt)("admonition",{title:"Important Note",type:"caution"},(0,i.kt)("p",{parentName:"admonition"},"Please ignore top-level TOC (the one at beginning of the file). Only add for sub-section TOCs. This is to avoid\nredundancy as TOC is available on right sidebar.")),(0,i.kt)("h2",{id:"partial-sub-table-of-contents"},"Partial (sub) table of contents"),(0,i.kt)("p",null,"If one individual section requires to have its own TOC. Below is how it can be achieved in docusaurus."),(0,i.kt)("p",null,"Changing the ",(0,i.kt)("inlineCode",{parentName:"p"},"depth")," (",(0,i.kt)("inlineCode",{parentName:"p"},"minHeadingLevel")," or ",(0,i.kt)("inlineCode",{parentName:"p"},"maxHeadingLevel"),") value for auto-generated TOC will not auto-generate a sub\ntable of contents for that particular section."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-rest",metastring:"{3}","{3}":!0},"  .. contents:: Table of contents\n    :backlinks: none\n    :depth: 1\n    :local:\n")),(0,i.kt)("p",null,"Good news is its doable though. Need to do this manually using ",(0,i.kt)("inlineCode",{parentName:"p"},"filterTOC")," prop for the ",(0,i.kt)("inlineCode",{parentName:"p"},"TOCInline")," component."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"You can use the url ref id of a sub-section to display its local TOC.")),(0,i.kt)("p",null,"To only list a sub-section list from below Table of Contents,"),(0,i.kt)(a.Z,{toc:g,mdxType:"TOCInline"}),(0,i.kt)("p",null,"For this section, the url is ",(0,i.kt)("inlineCode",{parentName:"p"},"/docs/wiki/docusaurus-mdx-guide/table-of-contents/#partial-sub-table-of-contents"),", hence:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-jsx",metastring:"{4}","{4}":!0},"// Render only the \"Partial (Sub) Table of Contents\" sub-items if any.\n<TOCInline\n  toc={toc}\n  filterTOC={'partial-sub-table-of-contents'}\n/>\n")),(0,i.kt)("p",null,"will result in:"),(0,i.kt)(a.Z,{toc:g,filterTOC:"partial-sub-table-of-contents",mdxType:"TOCInline"}),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("p",{parentName:"admonition"},"The ",(0,i.kt)("inlineCode",{parentName:"p"},"filterTOC")," prop can also be a function whose return value should be an array."),(0,i.kt)("pre",{parentName:"admonition"},(0,i.kt)("code",{parentName:"pre",className:"language-jsx"},"filterTOC={tocTree => ([ toc[2], ... ])} or filterTOC={tocTree => toc[1].children}\n"))),(0,i.kt)("admonition",{type:"danger"},(0,i.kt)("mdxAdmonitionTitle",{parentName:"admonition"},(0,i.kt)("inlineCode",{parentName:"mdxAdmonitionTitle"},"filterTOC")," prop is not available by default - it is custom implemented"),(0,i.kt)("p",{parentName:"admonition"},"The ",(0,i.kt)("inlineCode",{parentName:"p"},"TOCInline")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"TOCItems")," components are ",(0,i.kt)("a",{parentName:"p",href:"https://docusaurus.io/docs/swizzling"},"swizzled")," and custom logic is added."),(0,i.kt)("p",{parentName:"admonition"},"The custom added logic (",(0,i.kt)("inlineCode",{parentName:"p"},"src/theme/TOCInline"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"src/theme/TOCItems"),") is indicated by comments - ",(0,i.kt)("inlineCode",{parentName:"p"},"// Customization START")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"// Customization END"),". If reswizzled in future only these blocks need an update."),(0,i.kt)("p",{parentName:"admonition"},(0,i.kt)("a",{parentName:"p",href:"https://docusaurus.io/docs/markdown-features/inline-toc#custom-table-of-contents"},(0,i.kt)("inlineCode",{parentName:"a"},"toc")," is a flat array")," and has no concept of nested tree children structure. This behavior is changed in ",(0,i.kt)("inlineCode",{parentName:"p"},"2.0.0-beta.16"),".\nPlease check the ",(0,i.kt)("a",{parentName:"p",href:"https://docusaurus.io/changelog/2.0.0-beta.16#-breaking-change"},"Breaking changes that forced us to swizzle"))),(0,i.kt)("h3",{id:"dummy-section-1"},"Dummy section 1"),(0,i.kt)("h4",{id:"dummy-section-11"},"Dummy section 1.1"),(0,i.kt)("h3",{id:"dummy-section-2"},"Dummy section 2"),(0,i.kt)("h2",{id:"custom-table-of-contents"},"Custom table of contents"),(0,i.kt)("p",null,"Custom/Manually generated TOC can be a simple list or a group of lists (like a root index page)"),(0,i.kt)("h3",{id:"simple-list"},"Simple list"),(0,i.kt)("p",null,"Unfortunately, there is no direct alternative for this in either MDX or Docusaurus."),(0,i.kt)("p",null,"So, we have to rely on simple MDX links and manually find file paths, similar to how we handle refs in\n",(0,i.kt)("a",{parentName:"p",href:"/dronahq-docs/wiki/docusaurus-mdx-guide/links#internal-links"},"Links"),"."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-markdown"},"- [Allow Lists](/graphql/cloud/security/allow-lists.mdx)\n- [API Limits](/graphql/cloud/security/api-limits.mdx)\n- [Disable GraphQL Introspection](/graphql/cloud/security/disable-graphql-introspection.mdx)\n- [Rotating Admin Secrets](/graphql/cloud/security/rotating-admin-secrets.mdx)\n")),(0,i.kt)("p",null,"or if this needs to be done nested in a react component that doesn't support MDX."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-jsx"},'import Link from \'@docusaurus/Link\';\nimport {\n  CustomTOCList, CustomTOCListSection, CustomTOCListHead, CustomTOCListContent,\n} from "@site/src/components/CustomTOCList";\n\n<CustomTOCList>\n  <CustomTOCListSection>\n    <CustomTOCListContent>\n      <Link to="/docs/graphql/cloud/security/allow-lists">Allow Lists</Link>\n      <Link to="/docs/graphql/cloud/security/api-limits">API Limits</Link>\n      <Link to="/docs/graphql/cloud/security/disable-graphql-introspection">Disable GraphQL Introspection</Link>\n      <Link to="/docs/graphql/cloud/security/rotating-admin-secrets">Rotating Admin Secrets</Link>\n    </CustomTOCListContent>\n  </CustomTOCListSection>\n</CustomTOCList>\n')),(0,i.kt)("admonition",{title:"Watchout the link type",type:"caution"},(0,i.kt)("p",{parentName:"admonition"},"If you notice, we have added extension to the paths in link where as in ",(0,i.kt)("inlineCode",{parentName:"p"},"<Link />")," component we didn't."),(0,i.kt)("p",{parentName:"admonition"},"That's because, the MDX links are treated as file-paths and is resolved to generated url paths automatically by\ndocusaurus. On the other hand, the path in ",(0,i.kt)("inlineCode",{parentName:"p"},"Link")," component should already be a url path as it cannot resolve\nfile-paths."),(0,i.kt)("p",{parentName:"admonition"},"The best practice is to keep the directory/file path structure and url structure same to avoid the maintenance burden\nwhen using both types of syntax.")),(0,i.kt)("h4",{id:"result-ui"},"Result UI"),(0,i.kt)("p",null,"will render something like below."),(0,i.kt)("h3",{id:"group-of-lists"},"Group of lists"),(0,i.kt)("p",null,"Its a list of simple lists (UI wise)."),(0,i.kt)("p",null,"Unfortunately, there is no direct alternative for this in either MDX or Docusaurus. So we have to list these links\nmanually using this ",(0,i.kt)("inlineCode",{parentName:"p"},"CustomTOCList")," component."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-jsx"},'  import Link from \'@docusaurus/Link\';\n  import {\n    CustomTOCList, CustomTOCListSection, CustomTOCListHead, CustomTOCListContent,\n  } from "@site/src/components/CustomTOCList";\n\n  <CustomTOCList>\n\n    <CustomTOCListSection>\n\n      <CustomTOCListHead>API Security</CustomTOCListHead>\n\n      <CustomTOCListContent>\n        <Link to="/root/relative/path/to/cloud-api-reference">API Limits</Link>\n        <Link to="/root/relative/path/to/allow-lists">Allow Lists</Link>\n      </CustomTOCListContent>\n\n    </CustomTOCListSection>\n\n    <CustomTOCListSection>\n\n      <CustomTOCListHead>Reference</CustomTOCListHead>\n\n      <CustomTOCListContent>\n        <Link to="/root/relative/path/to/cloud-api-reference">Cloud API Reference</Link>\n        <Link to="/root/relative/path/to/glossary">Glossary</Link>\n        <Link to="/root/relative/path/to/hasurapro-cli">Hasura Pro CLI</Link>\n      </CustomTOCListContent>\n\n    </CustomTOCListSection>\n\n  </CustomTOCList>\n')),(0,i.kt)("h4",{id:"result-ui-1"},"Result UI"),(0,i.kt)("p",null,"This will render something like the below. Please note that links will be broken as they are just samples."),(0,i.kt)(r,{mdxType:"CustomTOCList"},(0,i.kt)(u,{mdxType:"CustomTOCListSection"},(0,i.kt)(d,{mdxType:"CustomTOCListHead"},"API Security"),(0,i.kt)(c,{mdxType:"CustomTOCListContent"},(0,i.kt)(s.Z,{to:"#cloud-api-reference",mdxType:"Link"},"API Limits"),(0,i.kt)(s.Z,{to:"#allow-lists",mdxType:"Link"},"Allow Lists"))),(0,i.kt)(u,{mdxType:"CustomTOCListSection"},(0,i.kt)(d,{mdxType:"CustomTOCListHead"},"Reference"),(0,i.kt)(c,{mdxType:"CustomTOCListContent"},(0,i.kt)(s.Z,{to:"#cloud-api-reference",mdxType:"Link"},"Cloud API Reference"),(0,i.kt)(s.Z,{to:"#glossary",mdxType:"Link"},"Glossary"),(0,i.kt)(s.Z,{to:"#hasurapro-cli",mdxType:"Link"},"Hasura Pro CLI")))),(0,i.kt)("hr",null),(0,i.kt)("admonition",{title:"How to use links within React?",type:"tip"},(0,i.kt)("ul",{parentName:"admonition"},(0,i.kt)("li",{parentName:"ul"},"Please refer to the ",(0,i.kt)("a",{parentName:"li",href:"/dronahq-docs/wiki/docusaurus-mdx-guide/links#links-in-react"},"Links in React")," section in Links.")),(0,i.kt)("pre",{parentName:"admonition"},(0,i.kt)("code",{parentName:"pre",className:"language-jsx"},"import Link from '@docusaurus/Link';\n\n<Link to=\"/wiki/docusaurus-mdx-guide/links#root-relative-links\">Root Relative Links</Link>\n")),(0,i.kt)("ul",{parentName:"admonition"},(0,i.kt)("li",{parentName:"ul"},"Please refer to the ",(0,i.kt)("a",{parentName:"li",href:"/wiki/docusaurus-mdx-guide/links#root-relative-links"},"Root Relative Links")," section too."))))}O.isMDXComponent=!0}}]);